"use strict";(self["webpackChunkvue2_cms_admin"]=self["webpackChunkvue2_cms_admin"]||[]).push([[995],{850:function(t,e,r){r.r(e),r.d(e,{default:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("el-card",[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",[t._v("编辑公告")])]),e("el-form",{ref:"form",attrs:{rules:t.rules,model:t.form,"status-icon":"","label-width":"100px"}},[e("el-form-item",{attrs:{prop:"title",label:"标题"}},[e("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),e("el-form-item",{attrs:{prop:"is_sticky",label:"置顶"}},[e("el-radio-group",{model:{value:t.form.is_sticky,callback:function(e){t.$set(t.form,"is_sticky",e)},expression:"form.is_sticky"}},[e("el-radio",{attrs:{label:1}},[t._v("是")]),e("el-radio",{attrs:{label:0}},[t._v("否")])],1)],1),e("el-form-item",{attrs:{prop:"content",label:"内容"}},[e("Editor",{attrs:{mode:t.mode},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.handleEdit}},[t._v("保存修改")])],1)],1)],1)},i=[],l=r(9551),a=r(51),o={components:{Editor:a.Z},data(){return{mode:"simple",form:{title:"",is_sticky:"",content:""},rules:{title:[{required:!0,message:"请填写公告标题",trigger:"blur"}],is_sticky:[{required:!0,message:"请选择是否置顶",trigger:"blur"}],content:[{required:!0,message:"请输入公告内容",trigger:"blur"}]}}},created(){let{notice_id:t}=this.$route.params;this.init(t)},methods:{async init(t){let{status:e,msg:r,data:s}=await l.qX.detail({notice_id:t});e&&(this.form=s)},async handleEdit(){let t=await this.$refs.form.validate();if(t){let{status:t,msg:e}=await l.qX.edit({...this.form});t?(this.$message.success(e),this.$router.go(-1)):this.$message.error(e)}}}},n=o,m=r(1001),c=(0,m.Z)(n,s,i,!1,null,null,null),u=c.exports}}]);
//# sourceMappingURL=995.dfa7864b.js.map