"use strict";(self["webpackChunkvue2_cms_admin"]=self["webpackChunkvue2_cms_admin"]||[]).push([[567],{5567:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var s=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"list_head",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("用户列表")])]),t("el-table",{attrs:{data:e.tableData}},[t("el-table-column",{attrs:{prop:"user_id",label:"#",width:"100"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名"}}),t("el-table-column",{attrs:{prop:"nickname",label:"昵称"}}),t("el-table-column",{attrs:{prop:"sex",label:"性别"}}),t("el-table-column",{attrs:{prop:"tel",label:"手机"}}),t("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),t("el-table-column",{attrs:{label:"头像",width:"180"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("el-avatar",{attrs:{shape:"square",src:e.row.avatar}})]}}])}),t("el-table-column",{attrs:{prop:"usable",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[1!=a.row.usable?t("el-tag",{attrs:{type:"info",plain:"",disabled:"",size:"mini"}},[e._v("禁用")]):t("el-tag",{attrs:{type:"success",plain:"",size:"mini"}},[e._v("启用")])]}}])}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"user:list:switch",expression:"'user:list:switch'"}],attrs:{type:1===a.row.usable?"info":"success",icon:"el-icon-switch-button",plain:"",size:"mini"},on:{click:function(t){return e.handleOpen(a.row.user_id,a.$index)}}},[e._v(e._s(-1==a.row.usable?"启用":"禁用"))]),t("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"user:list:remove",expression:"'user:list:remove'"}],attrs:{plain:"",size:"mini",icon:"el-icon-delete",type:"danger"},on:{click:function(t){return e.handleRemove(a.row.user_id,a.$index)}}},[e._v("删除")])]}}])})],1)],1)},l=[],n=a(9551),i={data(){return{tableData:[]}},created(){this.loadList()},methods:{async loadList(){let{status:e,msg:t,data:a}=await n.n5.list({pagesize:6});e&&(this.tableData=a)},handleOpen(e,t){this.$confirm(`此操作将${1==this.tableData[t].usable?"禁用":"启用"}该链接, 是否继续?,`,{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{let a=-this.tableData[t].usable;0===a&&(a=1);let{status:s,msg:l}=await n.n5.usable({user_id:e,usable:a});s?(this.tableData[t].usable=-this.tableData[t].usable,this.$message.success(l)):this.$message.error(l)})).catch((()=>{this.$message.info("已取消启用")}))},handleRemove(e,t){this.$confirm("此操作将永久删除该链接, 是否继续?","确认删除",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((async()=>{let{status:a,msg:s}=await n.n5.remove({user_id:e});a?(this.tableData.splice(t,1),this.$message.success(s)):this.$message.error(s)})).catch((()=>{this.$message.info("已取消删除")}))}}},r=i,o=a(1001),u=(0,o.Z)(r,s,l,!1,null,"36d8b404",null),c=u.exports}}]);
//# sourceMappingURL=567.8f17d582.js.map