"use strict";(self["webpackChunkvue2_cms_admin"]=self["webpackChunkvue2_cms_admin"]||[]).push([[438],{3979:function(e,s,r){r.r(s),r.d(s,{default:function(){return d}});var t=function(){var e=this,s=e._self._c;return s("div",{staticClass:"bg"},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("登录")])]),s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"status-icon":"","label-width":"60px"}},[s("el-form-item",{attrs:{label:"账号",prop:"username"}},[s("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.username,callback:function(s){e.$set(e.form,"username",s)},expression:"form.username"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.form.password,callback:function(s){e.$set(e.form,"password",s)},expression:"form.password"}})],1),s("el-form-item",[s("el-button",{attrs:{plain:!0,type:"primary"},on:{click:e.handleLogin}},[e._v("登录")])],1)],1),s("div",{staticClass:"el-footer el-row--flex"},[s("div",[s("el-link",{attrs:{href:"#/Register",type:"info",underline:!1}},[e._v("注册账户")])],1),s("div",[s("el-link",{attrs:{href:"#/",type:"info",underline:!1}},[e._v("忘记密码？")])],1)])],1)],1)},a=[],o=(r(7658),r(9551)),i=r(2714),l={data(){return{form:{username:"",password:""},rules:{username:[{required:!0,message:"请输入账户名称",trigger:"blur"},{min:3,max:30,message:"长度在 3 到 30 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/\d{3,}/,message:"密码至少3个数字!",trigger:"blur"}]}}},created(){},methods:{handleLogin(){this.$refs.form.validate((async e=>{if(e){let{status:e,msg:s,data:r}=await o.wt.login({...this.form});if(e){sessionStorage.user_id=r.user_id,sessionStorage.role_id=r.role_id,sessionStorage.access_token=r.access_token,sessionStorage.refresh_token=r.refresh_token,i.Z.is_route_unload=!0,this.$message.success(s);let{redirect:e}=this.$route.query;e?this.$router.push(e):this.$router.push("/article/list")}else this.$message.error(s)}}))}}},n=l,u=r(1001),m=(0,u.Z)(n,t,a,!1,null,"3b4aaf48",null),d=m.exports}}]);
//# sourceMappingURL=Login.a710900d.js.map