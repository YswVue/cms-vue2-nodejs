{"version":3,"file":"js/357.111acc5f.js","mappings":"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","sources":["webpack://vue2-cms-admin/./src/views/Admin/List.vue","webpack://vue2-cms-admin/src/views/Admin/List.vue","webpack://vue2-cms-admin/./src/views/Admin/List.vue?7afc","webpack://vue2-cms-admin/./src/views/Admin/List.vue?9433"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-card',{staticClass:\"box-card\"},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"管理员列表\")])]),_c('el-table',{attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"user_id\",\"label\":\"#\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"用户名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"fullname\",\"label\":\"姓名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"sex\",\"label\":\"性别\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"tel\",\"label\":\"手机号\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\"}}),_c('el-table-column',{attrs:{\"label\":\"头像\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-avatar',{attrs:{\"src\":scope.row.avatar}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"角色\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"placement\":\"top\"}},[_c('div',{staticClass:\"name-wrapper\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('el-tag',{attrs:{\"size\":\"medium\"}},[_vm._v(_vm._s(scope.row.role_name))])],1)])]}}])}),_c('el-table-column',{attrs:{\"label\":\"状态\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.usable === 1)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"正常\")]):_vm._e(),(scope.row.usable === -1)?_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"审核中\")]):_vm._e(),(scope.row.usable === -2)?_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"禁用\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{attrs:{\"to\":{ name: 'AdminEdit', params: { user_id: scope.row.user_id } }}},[_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('admin:edit'),expression:\"'admin:edit'\"}],attrs:{\"size\":\"mini\",\"type\":\"primary\"}},[_vm._v(\"编辑\")])],1),_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('system:admin:audit'),expression:\"'system:admin:audit'\"}],attrs:{\"size\":\"mini\",\"type\":\"success\",\"disabled\":scope.row.user_id === 1},on:{\"click\":function($event){return _vm.openAuditDialog(scope.row)}}},[_vm._v(\"审核\")]),_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('system:admin:remove'),expression:\"'system:admin:remove'\"}],attrs:{\"size\":\"mini\",\"type\":\"danger\",\"disabled\":scope.row.user_id === 1},on:{\"click\":function($event){return _vm.handleRemove(scope.row.user_id, scope.$index)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"审核\",\"visible\":_vm.audit_dialog_visible},on:{\"update:visible\":function($event){_vm.audit_dialog_visible=$event}}},[_c('el-form',[[_c('el-radio-group',{model:{value:(_vm.audit_status),callback:function ($$v) {_vm.audit_status=$$v},expression:\"audit_status\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"正常\")]),_c('el-radio',{attrs:{\"label\":-1}},[_vm._v(\"审核中\")]),_c('el-radio',{attrs:{\"label\":-2}},[_vm._v(\"禁用\")])],1)]],2),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.audit_dialog_visible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAudit}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<el-card class=\"box-card\">\r\n\t\t<div slot=\"header\">\r\n\t\t\t<span>管理员列表</span>\r\n\t\t</div>\r\n\t\t<el-table :data=\"tableData\">\r\n\t\t\t<el-table-column prop=\"user_id\" label=\"#\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"username\" label=\"用户名\" width=\"180\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"fullname\" label=\"姓名\" width=\"180\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"sex\" label=\"性别\" width=\"180\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"tel\" label=\"手机号\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"email\" label=\"邮箱\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"头像\" width=\"180\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-avatar :src=\"scope.row.avatar\">\r\n\t\t\t\t\t</el-avatar>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"角色\" width=\"180\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-popover placement=\"top\">\r\n\t\t\t\t\t\t<div slot=\"reference\" class=\"name-wrapper\">\r\n\t\t\t\t\t\t\t<el-tag size=\"medium\">{{ scope.row.role_name }}</el-tag>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</el-popover>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"状态\" width=\"100\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-tag type=\"success\" v-if=\"scope.row.usable === 1\">正常</el-tag>\r\n\t\t\t\t\t<el-tag type=\"warning\" v-if=\"scope.row.usable === -1\">审核中</el-tag>\r\n\t\t\t\t\t<el-tag type=\"info\" v-if=\"scope.row.usable === -2\">禁用</el-tag>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"操作\" width=\"300\">\r\n\t\t\t\t<!-- template插槽 内部放复杂结构 必须加slot-scope=\"scope\"-->\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<!-- 使用路由传参 -- 编辑 -->\r\n\t\t\t\t\t<!-- 不使用弹窗做编辑是因为表单太长了 -- 跳转到另一页面 -->\r\n\t\t\t\t\t<router-link :to=\"{ name: 'AdminEdit', params: { user_id: scope.row.user_id } }\">\r\n\t\t\t\t\t\t<el-button v-permission=\"'admin:edit'\" size=\"mini\" type=\"primary\">编辑</el-button>\r\n\t\t\t\t\t</router-link>\r\n\t\t\t\t\t<!-- element ui 框架中的路由传参 -->\r\n\t\t\t\t\t<!-- \r\n\t\t\t\t\t<el-link :href=\"`#/admin/edit/${scope.row.user_id}`\">\r\n\t\t\t\t\t\t<el-button size=\"mini\" type=\"primary\">编辑</el-button>\r\n\t\t\t\t\t</el-link>\r\n\t\t\t\t\t -->\r\n\t\t\t\t\t<el-button @click=\"openAuditDialog(scope.row)\" v-permission=\"'system:admin:audit'\" size=\"mini\"\r\n\t\t\t\t\t\ttype=\"success\" :disabled=\"scope.row.user_id === 1\">审核</el-button>\r\n\t\t\t\t\t<el-button v-permission=\"'system:admin:remove'\" @click=\"handleRemove(scope.row.user_id, scope.$index)\"\r\n\t\t\t\t\t\tsize=\"mini\" type=\"danger\" :disabled=\"scope.row.user_id === 1\">删除</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\r\n\t\t<!-- 审核 -->\r\n\t\t<el-dialog title=\"审核\" :visible.sync=\"audit_dialog_visible\">\r\n\t\t\t<el-form>\r\n\t\t\t\t<template>\r\n\t\t\t\t\t<el-radio-group v-model=\"audit_status\">\r\n\t\t\t\t\t\t<el-radio :label=\"1\">正常</el-radio>\r\n\t\t\t\t\t\t<el-radio :label=\"-1\">审核中</el-radio>\r\n\t\t\t\t\t\t<el-radio :label=\"-2\">禁用</el-radio>\r\n\t\t\t\t\t</el-radio-group>\r\n\t\t\t\t</template>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"audit_dialog_visible = false\">取 消</el-button>\r\n\t\t\t\t<el-button @click=\"handleAudit\" type=\"primary\">确 定</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</el-card>\r\n</template>\r\n\r\n<script>\r\nimport { Admin } from '@/api';\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttableData: [],\r\n\t\t\taudit_dialog_visible: false,\r\n\t\t\taudit_status: 0,\r\n\t\t\tcurrent_admin: '',\r\n\t\t}\r\n\t},\r\n\t// 页面一打开就发Ajax，所以放在 created 到 mounted 钩子函数中\r\n\t// created 到 mounted 之间的钩子函数之中发AJAX都可。\r\n\t// 不要直接在 钩子函数中直接发AJAX。\r\n\t// 可以在methods方法中构造一个函数，在钩子函数中调用。\r\n\tcreated() {\r\n\t\tthis.loadList();\r\n\t},\r\n\tmethods: {\r\n\t\t// 加载管理员列表 -- ajax\r\n\t\tasync loadList() {\r\n\t\t\tlet { status, msg, data } = await Admin.list({ pagesize: 8 });\r\n\t\t\tif (status) {\r\n\t\t\t\tthis.tableData = data;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 删除账户\r\n\t\thandleRemove(id, i) {\r\n\t\t\tthis.$confirm('此操作将永久删除该账户，是否删除', '确认删除', {\r\n\t\t\t\tconfirmButtonText: '删除',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t}).then(async () => {\r\n\t\t\t\tlet { status, msg } = await Admin.remove(id);\r\n\r\n\t\t\t\tif (status) {\r\n\t\t\t\t\t// 操作DOM -- 删除\r\n\t\t\t\t\tthis.tableData.splice(i, 1);\r\n\t\t\t\t\t// 信息提示\r\n\t\t\t\t\tthis.$message.success(msg);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$message.error(msg);\r\n\t\t\t\t}\r\n\t\t\t}).catch(() => {\r\n\t\t\t\tthis.$message.info('已取消删除');\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 打开审核弹窗\r\n\t\topenAuditDialog(current_admin) {\r\n\t\t\tthis.audit_dialog_visible = true;\r\n\t\t\t// 转存一下数据\r\n\t\t\tthis.current_admin = current_admin;\r\n\t\t},\r\n\t\t// 审核\r\n\t\tasync handleAudit() {\r\n\t\t\tlet { user_id } = this.current_admin;\r\n\t\t\tlet { status, msg } = await Admin.audit({ user_id, usable: this.audit_status });\r\n\t\t\tif (status) {\r\n\t\t\t\tthis.$message.success(msg);\r\n\t\t\t\tthis.audit_dialog_visible = false;\r\n\t\t\t\t// 更新视图\r\n\t\t\t\tthis.current_admin.usable = this.audit_status;\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped></style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=73cbc48a&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73cbc48a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","tableData","scopedSlots","_u","key","fn","scope","row","avatar","_s","role_name","usable","_e","name","params","user_id","directives","rawName","value","expression","on","$event","openAuditDialog","handleRemove","$index","audit_dialog_visible","model","audit_status","callback","$$v","handleAudit","staticRenderFns","data","current_admin","created","loadList","methods","status","msg","Admin","pagesize","id","i","$confirm","confirmButtonText","cancelButtonText","type","then","splice","$message","success","error","catch","info","component"],"sourceRoot":""}