"use strict";(self["webpackChunkvue2_cms_admin"]=self["webpackChunkvue2_cms_admin"]||[]).push([[632],{2632:function(e,t,i){i.r(t),i.d(t,{default:function(){return c}});var o=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"list_head",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("按钮管理")]),t("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"system:operation:create",expression:"'system:operation:create'"}],attrs:{type:"primary",icon:"el-icon-circle-plus-outline",plain:"",size:"mini"},on:{click:function(t){e.insertDialogVisible=!0}}},[e._v("添加按钮")])],1),t("el-table",{attrs:{data:e.tableData}},[t("el-table-column",{attrs:{prop:"operation_id",label:"#"}}),t("el-table-column",{attrs:{prop:"operation_name",label:"操作名称"}}),t("el-table-column",{attrs:{prop:"operation_code",label:"操作代码"}}),t("el-table-column",{attrs:{prop:"operation_description",label:"操作描述"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"system:operation:edit",expression:"'system:operation:edit'"}],attrs:{type:"primary",icon:"el-icon-edit",plain:"",size:"mini"},on:{click:function(t){return e.openEditDialog(i.row)}}},[e._v("编辑")]),t("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"system:operation:remove",expression:"'system:operation:remove'"}],attrs:{plain:"",size:"mini",icon:"el-icon-delete",type:"danger"},on:{click:function(t){return e.handleRemove(i.row.operation_id,i.$index)}}},[e._v("删除")])]}}])})],1),t("el-dialog",{attrs:{title:"添加按钮",visible:e.insertDialogVisible},on:{"update:visible":function(t){e.insertDialogVisible=t},close:function(t){return e.handleCloseDialog("insertForm")}}},[t("el-form",{ref:"insertForm",attrs:{model:e.insertForm,rules:e.rules,"status-icon":"","label-width":"100px"}},[t("el-form-item",{attrs:{label:"操作名称",prop:"operation_name"}},[t("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.insertForm.operation_name,callback:function(t){e.$set(e.insertForm,"operation_name",t)},expression:"insertForm.operation_name"}})],1),t("el-form-item",{attrs:{label:"操作代码",prop:"operation_code"}},[t("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.insertForm.operation_code,callback:function(t){e.$set(e.insertForm,"operation_code",t)},expression:"insertForm.operation_code"}})],1),t("el-form-item",{attrs:{label:"操作描述",prop:"operation_description"}},[t("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.insertForm.operation_description,callback:function(t){e.$set(e.insertForm,"operation_description",t)},expression:"insertForm.operation_description"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.insertDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.handleInsert}},[e._v("添 加")])],1)],1),t("el-dialog",{attrs:{title:"编辑按钮",visible:e.editDialogVisible},on:{"update:visible":function(t){e.editDialogVisible=t},close:function(t){return e.handleCloseDialog("editForm")}}},[t("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.rules,"status-icon":"","label-width":"100px"}},[t("el-form-item",{attrs:{label:"操作名称",prop:"operation_name"}},[t("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.editForm.operation_name,callback:function(t){e.$set(e.editForm,"operation_name",t)},expression:"editForm.operation_name"}})],1),t("el-form-item",{attrs:{label:"操作代码",prop:"operation_code"}},[t("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.editForm.operation_code,callback:function(t){e.$set(e.editForm,"operation_code",t)},expression:"editForm.operation_code"}})],1),t("el-form-item",{attrs:{label:"操作描述",prop:"operation_description"}},[t("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.editForm.operation_description,callback:function(t){e.$set(e.editForm,"operation_description",t)},expression:"editForm.operation_description"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.handleEdit}},[e._v("保 存")])],1)],1)],1)},r=[],a=i(3822),s={name:"List",data(){return{insertDialogVisible:!1,insertForm:{operation_name:"",operation_code:"",operation_description:""},editDialogVisible:!1,editForm:{operation_id:"",operation_name:"",operation_code:"",operation_description:""},current_data:"",rules:{operation_name:[{required:!0,message:"请输入操作名称！",trigger:"blur"}],operation_code:[{required:!0,message:"请输入操作代码！",trigger:"blur"}],operation_description:[{required:!0,message:"请输入操作描述！",trigger:"blur"}]}}},created(){this.loadList()},computed:{...(0,a.rn)("operation",["tableData"])},methods:{...(0,a.nv)("operation",["loadList"]),...(0,a.nv)("operation",["insertOperation"]),async handleInsert(){this.$refs.insertForm.validate((async e=>{if(e){let{status:e,msg:t}=await this.insertOperation({...this.insertForm});e&&(this.$message.success(t),this.insertDialogVisible=!1)}}))},handleCloseDialog(e){this.$refs[e].resetFields()},openEditDialog(e){this.current_data=e,this.editForm={...e},this.editDialogVisible=!0},...(0,a.nv)("operation",["editOperation"]),async handleEdit(){try{let e=await this.$refs.editForm.validate();if(e){let{status:e,msg:t}=await this.editOperation({...this.editForm});e?(Object.assign(this.current_data,this.editForm),this.editDialogVisible=!1,this.$message.success(t)):this.$message.error(t)}}catch(e){console.log(e)}},...(0,a.nv)("operation",["removeOperation"]),handleRemove(e,t){this.$confirm("此操作将永久删除该标签, 是否继续?","确认删除",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((async()=>{let{status:i,msg:o}=await this.removeOperation({operation_id:e,index:t});i?this.$message({type:"success",message:o}):this.$message.error(o)})).catch((()=>{this.$message.info("已取消删除")}))}}},n=s,l=i(1001),p=(0,l.Z)(n,o,r,!1,null,"fba7b71a",null),c=p.exports}}]);
//# sourceMappingURL=632.79cad504.js.map